<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible"/>
		<title>nodomui example - accordion usage</title>
		<link rel="stylesheet" type="text/css" href="css/nodomui.css" />
	</head>
	<body>
		<div></div>
	</body>
	<script type='module'>
		import{nodom,Module} from './js/nodom.js'
		import{UIAccordion,UIAccordionItem} from '../dist/nodomui1/plugins/accordion.js'
		
		class MAccordion extends Module{
			template(){
				return  `
					<div>
						<h3>基本使用</h3>
						<ui-accordion>
							<ui-accordion-item title='第1层'>
								<div>
									由html element全面改成虚拟dom，即由json数据对象方式管理模块dom树，同时强化虚拟dom操作
								</div>
							</ui-accordion-item>
							<ui-accordion-item title='第2层' open=true>
								<div>
									增加了IoC模式，模块支持即插即用，支持模块单例和非单例模式，灵活掌控资源消耗；
								</div>
							</ui-accordion-item>

							<ui-accordion-item title='第3层'>
								<div>
									改变插件接入方式，支持自定义element tag接入和对象化接入；
								</div>
							</ui-accordion-item>

							<ui-accordion-item title='第4层'>
								<div>
									提供大量插件，便于快速搭建应用，插件持续增加。模型为数据模型，是数据的辅助对象，NoDom中，每个数据对象都对应一个model，模块基于model进行渲染，model的变化会导致模块的增量渲染，通常是多个model变化，进行一次渲染）
								</div>
							</ui-accordion-item>
						</ui-accordion>

						<h3>手风琴使用</h3>
						<ui-accordion single=true>
							<ui-accordion-item title='第1层'>
								<div>
									由html element全面改成虚拟dom，即由json数据对象方式管理模块dom树，同时强化虚拟dom操作
								</div>
							</ui-accordion-item>
							<ui-accordion-item title='第2层'>
								<div>
									增加了IoC模式，模块支持即插即用，支持模块单例和非单例模式，灵活掌控资源消耗；
								</div>
							</ui-accordion-item>

							<ui-accordion-item title='第3层'  open=true>
								<div>
									改变插件接入方式，支持自定义element tag接入和对象化接入；
								</div>
							</ui-accordion-item>

							<ui-accordion-item title='第4层'>
								<div>
									提供大量插件，便于快速搭建应用，插件持续增加。模型为数据模型，是数据的辅助对象，NoDom中，每个数据对象都对应一个model，模块基于model进行渲染，model的变化会导致模块的增量渲染，通常是多个model变化，进行一次渲染）
								</div>
							</ui-accordion-item>
						</ui-accordion>
						
						<h3>repeat嵌套</h3>
						<ui-accordion single=true>
							<div x-repeat={{levels}}>
								<ui-accordion-item title={{title}}>
									<ol>
										<li x-repeat={{rows}}>
											<b class={{'nd-icon-' + icon}}></b>
											{{name}}
										</li>
									</ol>
								</ui-accordion-item>
							</div>
						</ui-accordion>
					</div>
				`;
			}

			data(){
				return {
					levels: [
						{
							title: "商品管理",
							icon: "insurance",
							active: true,
							rows: [
								{ name: "商品上架", icon: "prompt" },
								{ name: "商品下架", icon: "prompt" },
								{ name: "商品编辑", icon: "prompt" },
								{ name: "商品统计", icon: "prompt" }
							],
						},
						{
							title: "商家管理",
							icon: "edit",
							rows: [
								{ name: "商家审核", icon: "prompt" },
								{ name: "商家关店", icon: "prompt" },
								{ name: "临时关闭", icon: "prompt" },
								{ name: "商家统计", icon: "prompt" }
							],
						},
						{
							title: "订单管理",
							icon: "shopping-cart",
							rows: [
								{ name: "发货", icon: "prompt" },
								{ name: "取消申请", icon: "prompt" },
								{ name: "删除订单", icon: "prompt" }
							]
						},
						{
							title: "安全管理",
							icon: "user",
							rows: [
								{ name: "角色管理", icon: "prompt" },
								{ name: "用户管理", icon: "user" },
								{ name: "资源管理", icon: "prompt" },
								{ name: "权限管理", icon: "prompt" }
							]
						}
					]
				}
			}	
			clickItem(dom, module, e) {
				console.log(this);
			}
		}

		nodom(MAccordion,'div');
	</script>
</html>